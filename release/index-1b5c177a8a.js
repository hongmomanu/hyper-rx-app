!function(){"use strict";function t(t,e){var r,n=arguments,o=[];for(d=arguments.length;d-- >2;)y.push(n[d]);for(;y.length;)if(Array.isArray(r=y.pop()))for(d=r.length;d--;)y.push(r[d]);else null!=r&&!0!==r&&!1!==r&&("number"==typeof r&&(r+=""),o.push(r));return"string"==typeof t?{tag:t,data:e||{},children:o}:t(e,o)}function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function r(t){return"function"==typeof t}function n(t){return null!=t&&"object"==typeof t}function o(){try{return g.apply(this,arguments)}catch(t){return M.errorObject.e=t,M.errorObject}}function i(t){return g=t,o}function s(t){return t.reduce(function(t,e){return t.concat(e instanceof F.UnsubscriptionError?e.errors:e)},[])}function c(t,e,r){if(t){if(t instanceof K.Subscriber)return t;if(t[J.rxSubscriber])return t[J.rxSubscriber]()}return t||e||r?new K.Subscriber(t,e,r):new K.Subscriber(B.empty)}function u(t){return t instanceof Date&&!isNaN(+t)}function a(t,e){void 0===e&&(e=It.async);var r=Ct.isDate(t),n=r?+t-e.now():Math.abs(t);return this.lift(new qt(n,e))}function h(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}function l(t,e,r,n){var o=new Xt.InnerSubscriber(t,r,n);if(o.closed)return null;if(e instanceof rt.Observable)return e._isScalar?(o.next(e.value),o.complete(),null):e.subscribe(o);if(Jt.isArrayLike(e)){for(var i=0,s=e.length;i<s&&!o.closed;i++)o.next(e[i]);o.closed||o.complete()}else{if(zt.isPromise(e))return e.then(function(t){o.closed||(o.next(t),o.complete())},function(t){return o.error(t)}).then(null,function(t){E.root.setTimeout(function(){throw t})}),o;if(e&&"function"==typeof e[Gt.iterator])for(var c=e[Gt.iterator]();;){var u=c.next();if(u.done){o.complete();break}if(o.next(u.value),o.closed)break}else if(e&&"function"==typeof e[Z.observable]){var a=e[Z.observable]();if("function"==typeof a.subscribe)return a.subscribe(new Xt.InnerSubscriber(t,r,n));o.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var h=T.isObject(e)?"an invalid object":"'"+e+"'",l="You provided "+h+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";o.error(new TypeError(l))}}return null}function p(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof e&&(r=e,e=null),this.lift(new ce(t,e,r))}function f(t,e){return this.lift(new le.MergeMapOperator(t,e,1))}function b(t){return t&&"function"==typeof t.schedule}var d,y=[],v=[],w="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_="undefined"!=typeof window&&window,m="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,x=void 0!==w&&w,S=_||x||m,O=S;!function(){if(!S)throw new Error("RxJS could not find any global context (window, self, global)")}();var g,E={root:O},j=r,k={isFunction:j},N=Array.isArray||function(t){return t&&"number"==typeof t.length},P={isArray:N},A=n,T={isObject:A},I={e:{}},M={errorObject:I},C=i,U={tryCatch:C},V=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},R=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return V(e,t),e}(Error),Y=R,F={UnsubscriptionError:Y},q=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=this,r=!1;if(!this.closed){var n=this,o=n._parent,i=n._parents,c=n._unsubscribe,u=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,h=i?i.length:0;o;)o.remove(e),o=++a<h&&i[a]||null;if(k.isFunction(c)){var l=U.tryCatch(c).call(this);l===M.errorObject&&(r=!0,t=t||(M.errorObject.e instanceof F.UnsubscriptionError?s(M.errorObject.e.errors):[M.errorObject.e]))}if(P.isArray(u))for(a=-1,h=u.length;++a<h;){var p=u[a];if(T.isObject(p)){var l=U.tryCatch(p.unsubscribe).call(p);if(l===M.errorObject){r=!0,t=t||[];var f=M.errorObject.e;f instanceof F.UnsubscriptionError?t=t.concat(s(f.errors)):t.push(f)}}}if(r)throw new F.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this,r=e._parent,n=e._parents;r&&r!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}(),D=q,$={Subscription:D},W={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}},B={empty:W},J=e(function(t,e){var r=E.root.Symbol;e.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber}),L=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},z=function(t){function e(r,n,o){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.empty;break;case 1:if(!r){this.destination=B.empty;break}if("object"==typeof r){r instanceof e?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new H(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new H(this,r,n,o)}}return L(e,t),e.prototype[J.rxSubscriber]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,r=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=r,this},e}($.Subscription),G=z,H=function(t){function e(e,r,n,o){t.call(this),this._parentSubscriber=e;var i,s=this;k.isFunction(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==B.empty&&(s=Object.create(r),k.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=n,this._complete=o}return L(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(z),K={Subscriber:G},Q=c,X={toSubscriber:Q},Z=e(function(t,e){function r(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}e.getSymbolObservable=r,e.observable=r(E.root),e.$$observable=e.observable}),tt=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=X.toSubscriber(t,e,r);if(n?n.call(o,this.source):o.add(this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var r=this;if(e||(E.root.Rx&&E.root.Rx.config&&E.root.Rx.config.Promise?e=E.root.Rx.config.Promise:E.root.Promise&&(e=E.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var o;o=r.subscribe(function(e){if(o)try{t(e)}catch(t){n(t),o.unsubscribe()}else t(e)},n,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[Z.observable]=function(){return this},t.create=function(e){return new t(e)},t}(),et=tt,rt={Observable:et},nt=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},ot=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return nt(e,t),e}(Error),it=ot,st={ObjectUnsubscribedError:it},ct=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},ut=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return ct(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}($.Subscription),at=ut,ht={SubjectSubscription:at},lt=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},pt=function(t){function e(e){t.call(this,e),this.destination=e}return lt(e,t),e}(K.Subscriber),ft=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return lt(e,t),e.prototype[J.rxSubscriber]=function(){return new pt(this)},e.prototype.lift=function(t){var e=new dt(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new st.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new st.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new st.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new st.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new st.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),$.Subscription.EMPTY):this.isStopped?(t.complete(),$.Subscription.EMPTY):(this.observers.push(t),new ht.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new rt.Observable;return t.source=this,t},e.create=function(t,e){return new dt(t,e)},e}(rt.Observable),bt=ft,dt=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return lt(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):$.Subscription.EMPTY},e}(ft),yt=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},vt=function(t){function e(e,r){t.call(this)}return yt(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}($.Subscription),wt=vt,_t={Action:wt},mt=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},xt=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return mt(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),E.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){return void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending?e:E.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(_t.Action),St=xt,Ot={AsyncAction:St},gt=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}(),Et=gt,jt={Scheduler:Et},kt=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Nt=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return kt(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}},e}(jt.Scheduler),Pt=Nt,At={AsyncScheduler:Pt},Tt=new At.AsyncScheduler(Ot.AsyncAction),It={async:Tt},Mt=u,Ct={isDate:Mt},Ut=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return rt.Observable.of(this.value);case"E":return rt.Observable.throw(this.error);case"C":return rt.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),Vt=Ut,Rt={Notification:Vt},Yt=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Ft=a,qt=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new Dt(t,this.delay,this.scheduler))},t}(),Dt=function(t){function e(e,r,n){t.call(this,e),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return Yt(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,o=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(o);if(r.length>0){var i=Math.max(0,r[0].time-n.now());this.schedule(t,i)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,r=new $t(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(Rt.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(Rt.Notification.createComplete())},e}(K.Subscriber),$t=function(){function t(t,e){this.time=t,this.notification=e}return t}(),Wt={delay:Ft};rt.Observable.prototype.delay=Wt.delay;var Bt=function(t){return t&&"number"==typeof t.length},Jt={isArrayLike:Bt},Lt=h,zt={isPromise:Lt},Gt=e(function(t,e){function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var r=t.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=t.Map;if(n)for(var o=Object.getOwnPropertyNames(n.prototype),i=0;i<o.length;++i){var s=o[i];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}e.symbolIteratorPonyfill=r,e.iterator=r(E.root),e.$$iterator=e.iterator}),Ht=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Kt=function(t){function e(e,r,n){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=n,this.index=0}return Ht(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(K.Subscriber),Qt=Kt,Xt={InnerSubscriber:Qt},Zt=l,te={subscribeToResult:Zt},ee=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},re=function(t){function e(){t.apply(this,arguments)}return ee(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(K.Subscriber),ne=re,oe={OuterSubscriber:ne},ie=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},se=p,ce=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new ae(t,this.project,this.resultSelector,this.concurrent))},t}(),ue=ce,ae=function(t){function e(e,r,n,o){void 0===o&&(o=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return ie(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(te.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){this.resultSelector?this._notifyResultSelector(t,e,r,n):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,n){var o;try{o=this.resultSelector(t,e,r,n)}catch(t){return void this.destination.error(t)}this.destination.next(o)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(oe.OuterSubscriber),he=ae,le={mergeMap:se,MergeMapOperator:ue,MergeMapSubscriber:he},pe=f,fe={concatMap:pe};rt.Observable.prototype.concatMap=fe.concatMap;var be=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},de=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return be(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,n=t.subscriber;if(e)return void n.complete();n.next(r),n.closed||(t.done=!0,this.schedule(t))},e.prototype._subscribe=function(t){var r=this.value,n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t});t.next(r),t.closed||t.complete()},e}(rt.Observable),ye=de,ve={ScalarObservable:ye},we=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},_e=function(t){function e(e){t.call(this),this.scheduler=e}return we(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(rt.Observable),me=_e,xe={EmptyObservable:me},Se=b,Oe={isScheduler:Se},ge=w&&w.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Ee=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return ge(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n-0]=t[n];var o=r[r.length-1];Oe.isScheduler(o)?r.pop():o=null;var i=r.length;return i>1?new e(r,o):1===i?new ve.ScalarObservable(r[0],o):new xe.EmptyObservable(o)},e.dispatch=function(t){var e=t.array,r=t.index,n=t.count,o=t.subscriber;if(r>=n)return void o.complete();o.next(e[r]),o.closed||(t.index=r+1,this.schedule(t))},e.prototype._subscribe=function(t){var r=this.array,n=r.length,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{array:r,index:0,count:n,subscriber:t});for(var i=0;i<n&&!t.closed;i++)t.next(r[i]);t.complete()},e}(rt.Observable),je=Ee,ke={ArrayObservable:je},Ne=ke.ArrayObservable.of,Pe={of:Ne};rt.Observable.of=Pe.of;var Ae=function(t){return et.of(t).delay(600)},Te=(new bt).concatMap(Ae),Ie=window.performance.now();Te.subscribe(function(t){var e=window.performance.now()-Ie;console.log("executing at "+e.toFixed(2)+" ms"),t()});var Me={add:function(t,e,r){return{count:++t.count}},scheduleAdd:function(t,e,r){Te.next(e.add)},scheduleSub:function(t,e,r){Te.next(e.sub)},sub:function(t,e,r){return{count:--t.count}}},Ce={count:0},Ue=function(){return t("header",null,t("h2",null,"hyperapp RxJS "),t("p",null,t("small",null,t("em",null,"click away, clicks will be captured and actions will be queued up, then executed with minimum 600ms between each")," ",t("a",{href:"https://github.com/marcusasplund/hyperapp-RxJS"},"source"))),t("hr",null))},Ve=function(e){return t("button",{class:"button",onclick:e.actions.scheduleAdd},"add one +")},Re=function(e){return t("button",{class:"button",onclick:e.actions.scheduleSub},"subtract one -")},Ye=function(){return t("fieldset",{id:"console-log-div"},Fe.map(function(t,e){return Je(t,e)}))},Fe=[],qe=console.log,De=console.error,$e=console.warn,We=0,Be=function(t,e){for(var r=Array.prototype.slice.call(t),n=0;n<r.length;n++)Fe.unshift({message:r[n],type:e,index:++We})};console.log=function(){qe.apply(console,arguments),Be(arguments,"log")},console.error=function(){De.apply(console,arguments),Be(arguments,"error")},console.warn=function(){$e.apply(console,arguments),Be(arguments,"warn")};var Je=function(e,r){return t("div",{class:e.type},e.index+". ",e.message)},Le=function(e,r){return t("div",{class:"container"},t(Ue,null),t("h1",null,e.count),t(Ve,{actions:r}),t(Re,{actions:r}),t(Ye,null))};"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("service-worker.js").then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){switch(e.state){case"installed":navigator.serviceWorker.controller?console.log("New or updated content is available."):console.log("Content is now available offline!");break;case"redundant":console.error("The installing service worker became redundant.")}}}}).catch(function(t){console.error("Error during service worker registration:",t)})}),function(t){function e(t,r,n){Object.keys(r||[]).map(function(s){var c=r[s],u=n?n+"."+s:s;"function"==typeof c?t[s]=function(t){i("action",{name:u,data:t});var e=i("resolve",c(f,w,t));return"function"==typeof e?e(o):o(e)}:e(t[s]||(t[s]={}),c,u)})}function r(t){for(S=p(x,S,b,b=i("render",y)(f,w),d=!d);t=v.pop();)t()}function n(){y&&!d&&requestAnimationFrame(r,d=!d)}function o(t){return t&&(t=i("update",s(f,t)))&&n(f=t),f}function i(t,e){return(_[t]||[]).map(function(t){var r=t(f,w,e);null!=r&&(e=r)}),e}function s(t,e){var r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];return r}function c(t){if(t&&(t=t.data))return t.key}function u(t,e){if("string"==typeof t)var r=document.createTextNode(t);else{var r=(e=e||"svg"===t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);t.data&&t.data.oncreate&&v.push(function(){t.data.oncreate(r)});for(var n in t.data)a(r,n,t.data[n]);for(var n=0;n<t.children.length;)r.appendChild(u(t.children[n++],e))}return r}function a(t,e,r,n){if("key"===e);else if("style"===e)for(var o in s(n,r=r||{}))t.style[o]=r[o]||"";else{try{t[e]=r}catch(t){}"function"!=typeof r&&(r?t.setAttribute(e,r):t.removeAttribute(e))}}function h(t,e,r){for(var n in s(e,r)){var o=r[n],i="value"===n||"checked"===n?t[n]:e[n];o!==i&&a(t,n,o,i)}r&&r.onupdate&&v.push(function(){r.onupdate(t,e)})}function l(t,e,r){r&&r.onremove?r.onremove(e):t.removeChild(e)}function p(t,e,r,n,o,i){if(null==r)e=t.insertBefore(u(n,o),e);else if(null!=n.tag&&n.tag===r.tag){h(e,r.data,n.data),o=o||"svg"===n.tag;for(var s=n.children.length,a=r.children.length,f={},b=[],d={},y=0;y<a;y++){var v=b[y]=e.childNodes[y],w=r.children[y],_=c(w);null!=_&&(f[_]=[v,w])}for(var y=0,m=0;m<s;){var v=b[y],w=r.children[y],x=n.children[m],_=c(w);if(d[_])y++;else{var S=c(x),O=f[S]||[];null==S?(null==_&&(p(e,v,w,x,o),m++),y++):(_===S?(p(e,O[0],O[1],x,o),y++):O[0]?(e.insertBefore(O[0],v),p(e,O[0],O[1],x,o)):p(e,v,null,x,o),m++,d[S]=x)}}for(;y<a;){var w=r.children[y],_=c(w);null==_&&l(e,b[y],w.data),y++}for(var y in f){var O=f[y],g=O[1];d[g.data.key]||l(e,O[0],g.data)}}else e&&n!==e.nodeValue&&(e=t.insertBefore(u(n,o),i=e),l(t,i,r.data));return e}for(var f,b,d,y=t.view,w={},_={},m=t.mixins||[],x=t.root||document.body,S=x.children[0],O=0;O<=m.length;O++){var g=m[O]?m[O](i):t;Object.keys(g.events||[]).map(function(t){_[t]=(_[t]||[]).concat(g.events[t])}),e(w,g.actions),f=s(f,g.state)}n((b=i("load",S))===S&&(b=S=null))}({actions:Me,state:Ce,view:Le})}();